import{c as g,t as x,i as o,a as h,d as w,u as v,b as $,o as _,e as y,f as u}from"./index-Oa5vdzfL.js";var C=x(`<button class="flex-1 min-w-[120px] py-3 px-3 border-0 rounded-xl text-lg font-semibold no-underline cursor-pointer transition-all duration-300 ease-in-out text-center inline-block text-[#ba9477] relative overflow-hidden before:content-[''] before:absolute before:top-0 before:-left-full before:w-full before:h-full before:bg-[linear-gradient(90deg,transparent,rgba(255,255,255,0.2),transparent)] before:transition-all before:duration-500 hover:before:left-full hover:-translate-y-1 hover:shadow-[0_12px_20px_rgba(0,0,0,0.2)] active:-translate-y-0.25 active:shadow-[0_6px_12px_rgba(0,0,0,0.15)] bg-[linear-gradient(135deg,#4c4c52,#55555e)] hover:bg-[linear-gradient(135deg,#4c4c52,#55555e)]"><span class=uppercase></span><span class="block text-white text-[12px] font-normal opacity-90 mt-1 normal-case">`);function b({file_url:d,file_type:t,text:a}){const[n,l]=g(!1),c=async()=>{try{l(!0);const e=await fetch(d);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const i=await e.blob(),s=window.URL.createObjectURL(i);let p=`download.${t}`;const m=e.headers.get("content-disposition");if(m){const f=m.match(/filename\*=utf-8''(.+)/i);f&&f[1]&&(p=decodeURIComponent(f[1]))}const r=document.createElement("a");r.href=s,r.download=p,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s)}catch(e){console.error("Download failed:",e),alert("Не удалось скачать файл")}finally{l(!1)}};return(()=>{var e=C(),i=e.firstChild,s=i.nextSibling;return e.$$click=c,o(i,t),o(s,()=>n()?"Скачивание...":a),h(()=>e.disabled=n()),e})()}w(["click"]);var k=x('<section class="w-screen h-screen flex items-center justify-center bg-[#dadce5] select-none"><div class="px-12 py-5 text-center bg-white rounded-lg shadow-lg w-9/10 max-w-[600px]"><div class="flex justify-end"><a class="bg-[linear-gradient(135deg,#a67f5e,#ba9679)] text-white border-none py-1 px-5 rounded-sm text-sm font-semibold cursor-pointer transition-all duration-300 ease-in-out no-underline gap-2 mb-3 shadow-md"href={from}><p> Назад в форму</p></a><div></div></div><h1 class="text-[#24252E] text-[28px] font-normal mb-8 relative after:absolute after:-bottom-3 after:left-1/2 after:-translate-x-1/2 after:w-20 after:h-1 after:bg-gradient-to-r after:from-[#DCB799] after:to-[#a87952] after:rounded">Выберите формат файла</h1><div class="flex justify-center gap-6 flex-wrap">');function E(){const d=v(),t=$();return _(()=>{document.title=`${t.docname}`}),y(()=>{const a=d.state?.from??document.referrer;console.log("from:",a)}),(()=>{var a=k(),n=a.firstChild,l=n.firstChild,c=l.nextSibling,e=c.nextSibling;return o(e,u(b,{get file_url(){return`/auditso/api/${t.db}/${t.docname}/pdf`},file_type:"pdf",text:"Переносимый формат"}),null),o(e,u(b,{get file_url(){return`/auditso/api/${t.db}/${t.docname}/xlsx`},file_type:"xlsx",text:"Табличные данные"}),null),o(e,u(b,{get file_url(){return`/auditso/api/${t.db}/${t.docname}/doc`},file_type:"doc",text:"Текстовый документ"}),null),a})()}export{E as default};
